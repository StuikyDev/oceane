var f=Object.defineProperty;var h=(o,e,n)=>e in o?f(o,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[e]=n;var m=(o,e,n)=>(h(o,typeof e!="symbol"?e+"":e,n),n);import{isBrowserSupported as y}from"./assets/BanubaSDK-247e671e.js";const b="closed",g=({name:o,src:e,exports:n=[],events:u=[]})=>{typeof customElements>"u"||customElements.get(o)||customElements.define(o,class extends HTMLElement{constructor(){super();m(this,"_bridge");this.addEventListener("touchend",t=>t.stopPropagation()),typeof e!="string"&&(e=`${e}`);const i=this.attachShadow({mode:b}),a=document.createElement("link");a.href=e,a.rel="modulepreload preload",a.as="script",a.crossOrigin="",this.prepend(a);const p=document.createElement("style");p.textContent=":host{display:contents}",i.append(p);const c=document.createElement("iframe");c.style.display="none";const d=document.createElement("script");d.type="module",d.src=URL.createObjectURL(new Blob([`import c from"${e}";self.create=(o)=>new c(o)`],{type:"text/javascript"})),this._bridge=new Promise(t=>d.onload=t).then(()=>{const t={...k(this.attributes)};return t.merchantId?fetch(`https://cdn.tintvto.sdk.banuba.net/merchants/${t.merchantId}/config.json`).then(s=>s.text()).then(s=>{const r=JSON.parse(s),l={token:r.config};return t.skipLoadSdkToken===void 0&&(l.sdkToken=r.sdkToken),{...t,...l}}):t}).then(t=>c.contentWindow.create({target:i,props:t}));for(const t of n)Object.defineProperty(this,t,{value:(...s)=>this._bridge.then(r=>r[t](...s)),enumerable:!1,configurable:!1,writable:!1});for(const t of u)this._bridge.then(s=>s.$on(t,r=>this.dispatchEvent(r)));c.onload=()=>c.contentDocument.head.append(d),document.head.append(c)}disconnectedCallback(){}})},k=o=>Object.fromEntries(Array.from(o,({name:e,value:n})=>[w(e),n])),w=o=>o.replace(/-(\w)/g,(e,n)=>n.toUpperCase()),C=g({name:"tint-vto",src:new URL("./assets/app.js",import.meta.url),exports:["open","close","useWebcam","usePhoto","applyProduct","applyProductByCustomerSku","isCustomerSkuExist","lang"],events:["open","close","addToCart","removeFromCart","redirectToCart","applyProduct","removeAppliedProduct","replaceAppliedProduct","demo","analysisFinished"]}),x=()=>typeof window<"u"&&import.meta&&y();export{C as default,x as isBrowserSupported};
//# sourceMappingURL=widget.js.map
